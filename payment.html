<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cara - Payment</title>
        <link rel="icon" type="image/x-icon" href="/img/icon1.png">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
        <link rel="stylesheet" href="payment.css">
    </head>

    <body>
        <section id="header">
            <a href="#"><img src="img/logo.png" class="logo" alt=""></a>

            <div>
                <ul id="navbar">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="shop.html">Shop</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="login.html">Login</a></li>
                    <li id="lg-bag"><a class="active" href="cart.html"><i class='bx bx-shopping-bag' ></i></a></li>
                    <a href="#" id="close"><i class='bx bx-x'></i></a>
                </ul>
            </div>
            <div id="mobile">
                <a href="cart.html"><i class='bx bx-shopping-bag' ></i></a>
                <i id="bar" class='bx bx-menu'></i>
            </div>
        </section>

        <section id="page-header" class="payment-header">
            <h2>#secure_checkout</h2>
            <p>Complete your purchase securely</p>
        </section>

        <section id="payment-details" class="section-p1">
            <div class="payment-container">
                <div class="payment-left">
                    <h3>Shipping Information</h3>
                    <form id="shipping-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fullname">Full Name</label>
                                <input type="text" id="fullname" placeholder="John Doe" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" placeholder="example@email.com" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" placeholder="+91 XXX XXX XXXX" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="address">Address</label>
                            <input type="text" id="address" placeholder="Street Address" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="city">City</label>
                                <input type="text" id="city" placeholder="City" required>
                            </div>
                            <div class="form-group">
                                <label for="pincode">Pincode</label>
                                <input type="text" id="pincode" placeholder="Pincode" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="state">State</label>
                            <select id="state" required>
                                <option value="">Select State</option>
                                <option value="AP">Andhra Pradesh</option>
                                <option value="AR">Arunachal Pradesh</option>
                                <option value="AS">Assam</option>
                                <option value="BR">Bihar</option>
                                <option value="CT">Chhattisgarh</option>
                                <option value="GA">Goa</option>
                                <option value="GJ">Gujarat</option>
                                <option value="HR">Haryana</option>
                                <option value="HP">Himachal Pradesh</option>
                                <option value="JH">Jharkhand</option>
                                <option value="KA">Karnataka</option>
                                <option value="KL">Kerala</option>
                                <option value="MP">Madhya Pradesh</option>
                                <option value="MH">Maharashtra</option>
                                <option value="MN">Manipur</option>
                                <option value="ML">Meghalaya</option>
                                <option value="MZ">Mizoram</option>
                                <option value="NL">Nagaland</option>
                                <option value="OR">Odisha</option>
                                <option value="PB">Punjab</option>
                                <option value="RJ">Rajasthan</option>
                                <option value="SK">Sikkim</option>
                                <option value="TN">Tamil Nadu</option>
                                <option value="TG">Telangana</option>
                                <option value="TR">Tripura</option>
                                <option value="UT">Uttarakhand</option>
                                <option value="UP">Uttar Pradesh</option>
                                <option value="WB">West Bengal</option>
                            </select>
                        </div>
                    </form>
                </div>
                
                <div class="payment-right">
                    <div class="order-summary">
                        <h3>Order Summary</h3>
                        <div class="summary-item">
                            <span>Cartoon Astronaut T-Shirts x3</span>
                            <span>₹7497</span>
                        </div>
                        <div class="summary-item">
                            <span>Shipping</span>
                            <span>Free</span>
                        </div>
                        <div class="summary-item discount">
                            <span>Discount</span>
                            <span>-₹98</span>
                        </div>
                        <div class="summary-item total">
                            <span>Total</span>
                            <span>₹7399</span>
                        </div>
                    </div>
                    
                    <div class="payment-method-details">
                        <h3>Payment Method</h3>
                        <div class="payment-tabs">
                            <div class="payment-tab active" data-tab="credit-card">
                                <i class='bx bxs-credit-card'></i> Credit/Debit Card
                            </div>
                            <div class="payment-tab" data-tab="upi">
                                <i class='bx bx-money'></i> UPI
                            </div>
                            <div class="payment-tab" data-tab="netbanking">
                                <i class='bx bx-bank'></i> Net Banking
                            </div>
                            <div class="payment-tab" data-tab="cod">
                                <i class='bx bx-package'></i> Cash on Delivery
                            </div>
                        </div>
                        
                        <div class="payment-tab-content active" id="credit-card">
                            <form id="card-payment-form">
                                <div class="form-group">
                                    <label for="card-number">Card Number</label>
                                    <input type="text" id="card-number" placeholder="XXXX XXXX XXXX XXXX" required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="card-expiry">Expiry Date</label>
                                        <input type="text" id="card-expiry" placeholder="MM/YY" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="card-cvv">CVV</label>
                                        <input type="password" id="card-cvv" placeholder="XXX" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="card-name">Name on Card</label>
                                    <input type="text" id="card-name" placeholder="John Doe" required>
                                </div>
                            </form>
                        </div>
                        
                        <div class="payment-tab-content" id="upi">
                            <form id="upi-payment-form">
                                <div class="form-group">
                                    <label for="upi-id">UPI ID</label>
                                    <input type="text" id="upi-id" placeholder="yourname@upi" required>
                                </div>
                                <div class="upi-providers">
                                    <div class="upi-provider">
                                        <img src="./img/pay/gpay.png" alt="Google Pay">
                                    </div>
                                    <div class="upi-provider">
                                        <img src="./img/pay/paytm.png" alt="Paytm">
                                    </div>
                                    <div class="upi-provider">
                                        <img src="./img/pay/phonepe.png" alt="PhonePe">
                                    </div>
                                </div>
                            </form>
                        </div>
                        
                        <div class="payment-tab-content" id="netbanking">
                            <form id="netbanking-payment-form">
                                <div class="form-group">
                                    <label for="bank-select">Select Bank</label>
                                    <select id="bank-select" required>
                                        <option value="">Choose your bank</option>
                                        <option value="sbi">State Bank of India</option>
                                        <option value="hdfc">HDFC Bank</option>
                                        <option value="icici">ICICI Bank</option>
                                        <option value="axis">Axis Bank</option>
                                        <option value="kotak">Kotak Mahindra Bank</option>
                                    </select>
                                </div>
                            </form>
                        </div>
                        
                        <div class="payment-tab-content" id="cod">
                            <div class="cod-message">
                                <i class='bx bx-info-circle'></i>
                                <p>Pay in cash at the time of delivery. Please keep exact change handy.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="place-order">
                        <button class="normal" id="place-order-btn">Place Order</button>
                        <p class="secure-payment">
                            <i class='bx bx-lock'></i> Your payment information is secure
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <footer class="section-p1">
            <div class="col">
                <img class="logo" src="./img/logo.png" alt="">
                <h4>Contact</h4>
                <p><strong>Address:</strong> 562 Wellington Road, Street 32, San Francisco</p>
                <p><strong>Phone:</strong> +01 2222 345 / (+91) 0 123 456 789</p>
                <p><strong>Hours:</strong> 10:00 - 18:00, Mon - Sat</p>
                <div class="follow">
                    <h4>Follow us</h4>
                    <div class="icon">
                        <i class='bx bxl-facebook'></i>
                        <i class='bx bxl-twitter' ></i>
                        <i class='bx bxl-instagram' ></i>
                        <i class='bx bxl-pinterest-alt' ></i>
                        <i class='bx bxl-youtube' ></i>
                    </div>
                </div>
            </div>

            <div class="col">
                <h4>About</h4>
                <a href="#">About us</a>
                <a href="#">Devlivery Information</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms & Conditions</a>
                <a href="#">Contact Us</a>
            </div>

            <div class="col">
                <h4>My Account</h4>
                <a href="#">Sign In</a>
                <a href="#">View Cart</a>
                <a href="#">My Wishlist</a>
                <a href="#">Track My Order</a>
                <a href="#">Help</a>
            </div>

            <div class="col install">
                <h4>Install App</h4>
                <p>From App Store or Google Play</p>
                <div class="row">
                    <img src="./img/pay/app.jpg" alt="">
                    <img src="./img/pay/play.jpg" alt="">
                </div>
                <p>Secured Payment Gateways</p>
                <img src="./img/pay/pay.png" alt="">
            </div>

            <div class="copyright">
                <p>© 2023, Sahad cmd - HTML CSS Ecommerce Template</p>
            </div>
        </footer>

        <script src="script.js"></script>
        <script>
            // Payment page specific JavaScript
            document.addEventListener('DOMContentLoaded', function() {
                // Tab switching functionality
                const paymentTabs = document.querySelectorAll('.payment-tab');
                const tabContents = document.querySelectorAll('.payment-tab-content');
                
                paymentTabs.forEach(tab => {
                    tab.addEventListener('click', function() {
                        // Remove active class from all tabs and contents
                        paymentTabs.forEach(t => t.classList.remove('active'));
                        tabContents.forEach(c => c.classList.remove('active'));
                        
                        // Add active class to clicked tab
                        this.classList.add('active');
                        
                        // Show corresponding content
                        const tabId = this.getAttribute('data-tab');
                        document.getElementById(tabId).classList.add('active');
                    });
                });
                
                // Place order button functionality
                document.getElementById('place-order-btn').addEventListener('click', function(e) {
                    e.preventDefault();
                    // Basic validation
                    let isValid = true;
                    const activeTab = document.querySelector('.payment-tab.active').getAttribute('data-tab');
                    
                    // Validate shipping form
                    const shippingInputs = document.querySelectorAll('#shipping-form input[required], #shipping-form select[required]');
                    shippingInputs.forEach(input => {
                        if (!input.value) {
                            isValid = false;
                            input.classList.add('error');
                        } else {
                            input.classList.remove('error');
                        }
                    });
                    
                    // Validate payment form (except COD)
                    if (activeTab !== 'cod') {
                        const paymentForm = document.getElementById(activeTab + '-payment-form');
                        const paymentInputs = paymentForm.querySelectorAll('input[required], select[required]');
                        
                        paymentInputs.forEach(input => {
                            if (!input.value) {
                                isValid = false;
                                input.classList.add('error');
                            } else {
                                input.classList.remove('error');
                            }
                        });
                    }
                    
                    if (isValid) {
                        alert('Order placed successfully! Thank you for shopping with us.');
                        // Here you would typically submit the form or make an API call
                        window.location.href = 'order-confirmation.html';
                    } else {
                        alert('Please fill in all the required fields.');
                    }
                });
            });
            // Payment form validation script
document.addEventListener('DOMContentLoaded', function() {
    // Tab switching functionality
    const paymentTabs = document.querySelectorAll('.payment-tab');
    const tabContents = document.querySelectorAll('.payment-tab-content');
    
    paymentTabs.forEach(tab => {
        tab.addEventListener('click', function() {
            // Remove active class from all tabs and contents
            paymentTabs.forEach(t => t.classList.remove('active'));
            tabContents.forEach(c => c.classList.remove('active'));
            
            // Add active class to clicked tab
            this.classList.add('active');
            
            // Show corresponding content
            const tabId = this.getAttribute('data-tab');
            document.getElementById(tabId).classList.add('active');
        });
    });
    
    // Form field validation
    const fullnameInput = document.getElementById('fullname');
    const emailInput = document.getElementById('email');
    const phoneInput = document.getElementById('phone');
    const pincodeInput = document.getElementById('pincode');
    const cardNumberInput = document.getElementById('card-number');
    const cardExpiryInput = document.getElementById('card-expiry');
    const cardCvvInput = document.getElementById('card-cvv');
    const upiIdInput = document.getElementById('upi-id');
    
    // Validation patterns
    const patterns = {
        fullname: /^[a-zA-Z\s]{3,40}$/,
        email: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,
        phone: /^(\+\d{1,3}\s)?\d{10}$/,
        pincode: /^[1-9][0-9]{5}$/,
        cardNumber: /^(\d{4}\s){3}\d{4}$|^\d{16}$/,
        cardExpiry: /^(0[1-9]|1[0-2])\/([0-9]{2})$/,
        cardCvv: /^[0-9]{3,4}$/,
        upiId: /^[a-zA-Z0-9._-]+@[a-zA-Z][a-zA-Z0-9]+$/
    };
    
    // Error messages
    const errorMessages = {
        fullname: 'Please enter a valid name (3-40 characters, letters only)',
        email: 'Please enter a valid email address',
        phone: 'Please enter a valid 10-digit phone number',
        pincode: 'Please enter a valid 6-digit pincode',
        cardNumber: 'Please enter a valid 16-digit card number',
        cardExpiry: 'Please enter a valid expiry date (MM/YY)',
        cardCvv: 'Please enter a valid 3 or 4 digit CVV',
        upiId: 'Please enter a valid UPI ID (example@bank)'
    };
    
    // Add input event listeners for real-time validation
    if (fullnameInput) addValidationListener(fullnameInput, patterns.fullname, errorMessages.fullname);
    if (emailInput) addValidationListener(emailInput, patterns.email, errorMessages.email);
    if (phoneInput) addValidationListener(phoneInput, patterns.phone, errorMessages.phone);
    if (pincodeInput) addValidationListener(pincodeInput, patterns.pincode, errorMessages.pincode);
    if (cardNumberInput) addValidationListener(cardNumberInput, patterns.cardNumber, errorMessages.cardNumber);
    if (cardExpiryInput) addValidationListener(cardExpiryInput, patterns.cardExpiry, errorMessages.cardExpiry);
    if (cardCvvInput) addValidationListener(cardCvvInput, patterns.cardCvv, errorMessages.cardCvv);
    if (upiIdInput) addValidationListener(upiIdInput, patterns.upiId, errorMessages.upiId);
    
    // Format credit card number with spaces
    if (cardNumberInput) {
        cardNumberInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
            let formattedValue = '';
            
            for (let i = 0; i < value.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    formattedValue += ' ';
                }
                formattedValue += value[i];
            }
            
            if (formattedValue !== e.target.value) {
                e.target.value = formattedValue.substring(0, 19); // Limit to 16 digits + 3 spaces
            }
        });
    }
    
    // Format expiry date
    if (cardExpiryInput) {
        cardExpiryInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            let formattedValue = '';
            
            if (value.length > 0) {
                formattedValue = value.substring(0, 2);
                if (value.length > 2) {
                    formattedValue += '/' + value.substring(2, 4);
                }
            }
            
            e.target.value = formattedValue;
        });
    }
    
    // Helper function to add validation to an input
    function addValidationListener(input, pattern, errorMessage) {
        input.addEventListener('input', function() {
            validateInput(input, pattern, errorMessage);
        });
        
        input.addEventListener('blur', function() {
            validateInput(input, pattern, errorMessage);
        });
    }
    
    // Function to validate input
    function validateInput(input, pattern, errorMessage) {
        const errorElement = getOrCreateErrorElement(input);
        
        if (input.value === '') {
            errorElement.textContent = 'This field is required';
            input.classList.add('error');
            return false;
        } else if (!pattern.test(input.value)) {
            errorElement.textContent = errorMessage;
            input.classList.add('error');
            return false;
        } else {
            errorElement.textContent = '';
            input.classList.remove('error');
            return true;
        }
    }
    
    // Function to get or create error message element
    function getOrCreateErrorElement(input) {
        let errorElement = input.nextElementSibling;
        if (!errorElement || !errorElement.classList.contains('error-message')) {
            errorElement = document.createElement('span');
            errorElement.classList.add('error-message');
            input.parentNode.insertBefore(errorElement, input.nextSibling);
        }
        return errorElement;
    }
    
    // Validate expiry date is in the future
    function validateExpiryDate() {
        if (!cardExpiryInput) return true;
        
        const value = cardExpiryInput.value;
        if (!patterns.cardExpiry.test(value)) return false;
        
        const [month, year] = value.split('/');
        const expiryDate = new Date(2000 + parseInt(year), parseInt(month) - 1, 1);
        const currentDate = new Date();
        
        // Set both dates to the first of the month to compare month and year only
        expiryDate.setDate(1);
        currentDate.setDate(1);
        
        if (expiryDate < currentDate) {
            const errorElement = getOrCreateErrorElement(cardExpiryInput);
            errorElement.textContent = 'Card has expired';
            cardExpiryInput.classList.add('error');
            return false;
        }
        
        return true;
    }
    
    // Place order button functionality
    document.getElementById('place-order-btn').addEventListener('click', function(e) {
        e.preventDefault();
        
        // Get active payment tab
        const activeTab = document.querySelector('.payment-tab.active').getAttribute('data-tab');
        
        // Validate all shipping form fields
        const shippingInputs = document.querySelectorAll('#shipping-form input[required], #shipping-form select[required]');
        let shippingValid = true;
        
        shippingInputs.forEach(input => {
            const pattern = patterns[input.id];
            if (pattern) {
                if (!validateInput(input, pattern, errorMessages[input.id])) {
                    shippingValid = false;
                }
            } else if (!input.value) {
                const errorElement = getOrCreateErrorElement(input);
                errorElement.textContent = 'This field is required';
                input.classList.add('error');
                shippingValid = false;
            } else {
                const errorElement = getOrCreateErrorElement(input);
                errorElement.textContent = '';
                input.classList.remove('error');
            }
        });
        
        // Validate payment form fields based on selected payment method
        let paymentValid = true;
        
        if (activeTab === 'credit-card') {
            // Validate card fields
            if (!validateInput(cardNumberInput, patterns.cardNumber, errorMessages.cardNumber)) {
                paymentValid = false;
            }
            if (!validateInput(cardExpiryInput, patterns.cardExpiry, errorMessages.cardExpiry)) {
                paymentValid = false;
            } else if (!validateExpiryDate()) {
                paymentValid = false;
            }
            if (!validateInput(cardCvvInput, patterns.cardCvv, errorMessages.cardCvv)) {
                paymentValid = false;
            }
            if (!validateInput(document.getElementById('card-name'), patterns.fullname, errorMessages.fullname)) {
                paymentValid = false;
            }
        } else if (activeTab === 'upi') {
            // Validate UPI ID
            if (!validateInput(upiIdInput, patterns.upiId, errorMessages.upiId)) {
                paymentValid = false;
            }
        } else if (activeTab === 'netbanking') {
            // Validate bank selection
            const bankSelect = document.getElementById('bank-select');
            if (!bankSelect.value) {
                const errorElement = getOrCreateErrorElement(bankSelect);
                errorElement.textContent = 'Please select a bank';
                bankSelect.classList.add('error');
                paymentValid = false;
            } else {
                const errorElement = getOrCreateErrorElement(bankSelect);
                errorElement.textContent = '';
                bankSelect.classList.remove('error');
            }
        }
        // No validation needed for COD
        
        if (shippingValid && paymentValid) {
            alert('Order placed successfully! Thank you for shopping with us.');
            // Here you would typically submit the form or make an API call
            window.location.href = 'order-confirmation.html';
        } else {
            // Scroll to the first error
            const firstError = document.querySelector('.error');
            if (firstError) {
                firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
    });
});
        </script>
    </body>
</html>